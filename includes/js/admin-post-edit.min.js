/**
 * Custom js script at post edit screen
 *
 * @package   GravityView
 * @license   GPL2+
 * @author    Katz Web Services, Inc.
 * @link      http://gravityview.co
 * @copyright Copyright 2014, Katz Web Services, Inc.
 *
 * @since 1.0.0
 */
function InsertViewShortcode(){var e=jQuery("#gravityview_view_id").val();if(""===e)return alert(gvGlobals.alert_1),jQuery("#gravityview_view_id").focus(),!1;var i='[gravityview id="'+e+'"';jQuery("#gravityview_view_id").val("");var r=parseInt(jQuery("#gravityview_page_size").val());r>0&&25!=r&&(i+=' page_size="'+r+'"',jQuery("#gravityview_page_size").val(25)),jQuery("#gravityview_lightbox").prop("checked")===!1&&(i+=' lightbox="0"',jQuery("#gravityview_lightbox").prop("checked","checked")),jQuery("#gravityview_only_approved").prop("checked")===!0&&(i+=' show_only_approved="1"',jQuery("#gravityview_only_approved").prop("checked",null));var t=jQuery("#gravityview_sort_field:enabled").val();if(t&&""!==t){var v=jQuery("#gravityview_sort_direction").val();i+=' sort_field="'+t+'" sort_direction="'+v+'"'}var a=jQuery("#gravityview_start_date").val();""!==a&&(i+=' start_date="'+a+'"');var d=jQuery("#gravityview_end_date").val();return""!==d&&(i+=' end_date="'+d+'"'),jQuery("#gravityview_sort_field,#gravityview_start_date,#gravityview_end_date").val(""),i+="]",window.send_to_editor(i),!1}jQuery(document).ready(function(e){jQuery(".gv-datepicker").datepicker({dateFormat:"yy-mm-dd",constrainInput:!1}),e("#gravityview_view_id").change(function(){if(""===e("#gravityview_view_id").val())return void e("#select_gravityview_view_form").find(".hide-if-js").fadeOut();e("#gravityview_sort_field").prop("disabled","disabled").empty().append("<option>"+gvGlobals.loading_text+"</option>");var i={action:"gv_sortable_fields",viewid:e(this).val(),nonce:gvGlobals.nonce};e.post(ajaxurl,i,function(i){i&&e("#gravityview_sort_field").empty().append(i).prop("disabled",null)}),e("#select_gravityview_view_form").find(".hide-if-js").fadeIn()}),e("#insert_gravityview_view").on("click",function(i){return i.preventDefault(),InsertViewShortcode(),e("#select_gravityview_view_form").find(".hide-if-js").hide(),!1})});