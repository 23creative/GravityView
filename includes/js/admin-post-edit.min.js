jQuery(document).ready(function($){function InsertViewShortcode(){var view_id=$("#gravityview_view_id").val();if(""===view_id)return alert(gvGlobals.alert_1),$("#gravityview_view_id").focus(),!1;var shortcode='[gravityview id="'+view_id+'"';$("#gravityview_view_id").val("");var page_size=parseInt($("#gravityview_page_size").val());page_size>0&&25!=page_size&&(shortcode+=' page_size="'+page_size+'"',$("#gravityview_page_size").val(25)),$("#gravityview_lightbox").prop("checked")===!1&&(shortcode+=' lightbox="0"',$("#gravityview_lightbox").prop("checked","checked")),$("#gravityview_only_approved").prop("checked")===!0&&(shortcode+=' show_only_approved="1"',$("#gravityview_only_approved").prop("checked",null));var sort_field=$("#gravityview_sort_field:enabled").val();if(sort_field&&""!==sort_field){var sort_direction=$("#gravityview_sort_direction").val();shortcode+=' sort_field="'+sort_field+'" sort_direction="'+sort_direction+'"'}var start_date=$("#gravityview_start_date").val();""!==start_date&&(shortcode+=' start_date="'+start_date+'"');var end_date=$("#gravityview_end_date").val();return""!==end_date&&(shortcode+=' end_date="'+end_date+'"'),$("#gravityview_sort_field,#gravityview_start_date,#gravityview_end_date").val(""),shortcode+="]",window.send_to_editor(shortcode),!1}$(".gv-datepicker").datepicker({dateFormat:"yy-mm-dd",constrainInput:!1}),$("#gravityview_view_id").change(function(){if(""===$("#gravityview_view_id").val())return void $("#select_gravityview_view_form").find(".hide-if-js").fadeOut();$("#gravityview_sort_field").prop("disabled","disabled").empty().append("<option>"+gvGlobals.loading_text+"</option>");var data={action:"gv_sortable_fields",viewid:$(this).val(),nonce:gvGlobals.nonce};$.post(ajaxurl,data,function(response){response&&$("#gravityview_sort_field").empty().append(response).prop("disabled",null)}),$("#select_gravityview_view_form").find(".hide-if-js").fadeIn()}),$("#insert_gravityview_view").on("click",function(e){return e.preventDefault(),InsertViewShortcode(),$("#select_gravityview_view_form").find(".hide-if-js").hide(),!1})});